# PostgreSQL configuration optimized for clean shutdown
# Main settings (inherited from default)
data_directory = '/var/lib/postgresql/data'
hba_file = '/var/lib/postgresql/data/pg_hba.conf'
ident_file = '/var/lib/postgresql/data/pg_ident.conf'
external_pid_file = '/var/run/postgresql/15-main.pid'

# Connection settings
listen_addresses = '*'
port = 5432
max_connections = 100

# Shutdown settings
# shorter time to force-close client connections during shutdown
tcp_keepalives_idle = 10
tcp_keepalives_interval = 10
tcp_keepalives_count = 2
shutdown_timeout = 5s

# Memory settings
shared_buffers = 128MB
dynamic_shared_memory_type = posix

# Logging settings
log_timezone = 'UTC'
datestyle = 'iso, mdy'
timezone = 'UTC'
lc_messages = 'en_US.utf8'
lc_monetary = 'en_US.utf8'
lc_numeric = 'en_US.utf8'
lc_time = 'en_US.utf8'
default_text_search_config = 'pg_catalog.english' 